{"version":3,"sources":["services/persons.js","components/Notification.js","components/PersonForm.js","components/Filter.js","components/DeleteButton.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","status","Notification","message","type","className","PersonForm","newName","setNewName","newNumber","setNewNumber","persons","setPersons","showNotification","onSubmit","event","preventDefault","existing","map","person","name","indexOf","template","window","confirm","modifiedPerson","personService","returnedPerson","msg","catch","error","allPersons","updateExisting","number","newPerson","createdPerson","concat","addNew","value","onChange","target","Filter","filter","setFilter","DeleteButton","onClick","Persons","phonebook","RegExp","test","i","key","length","App","useState","notification","_setNotification","setTimeout","console","log","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.00f578f8.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.status)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className={type}>\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import React from 'react'\nimport personService from '../services/persons'\n\nconst PersonForm = ({ newName, setNewName, newNumber, setNewNumber, persons, setPersons, showNotification }) => {\n\n    const handleNewPerson = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNewNumber = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const updateExisting = (modifiedPerson) => {\n        const id = modifiedPerson.id\n        personService\n            .update(id, modifiedPerson)\n            .then(returnedPerson => {\n                setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n                const msg = `${newName}'s number updated successfully`\n                showNotification(msg, 'success')\n            })\n            .catch(error => {\n                const msg = error.response.data.error\n                showNotification(msg, 'error')\n                personService\n                    .getAll()\n                    .then(allPersons => {\n                        setPersons(allPersons)\n                    })\n            })\n    }\n\n    const addNew = (newPerson) => {\n        const template = `${newPerson.name} successfully added to phonebook`\n        personService\n            .create(newPerson)\n            .then(createdPerson => {\n                setPersons(persons.concat(createdPerson))\n                setNewName('')\n                setNewNumber('')\n                showNotification(template, 'success')\n            })\n            .catch(error => {\n                const msg = error.response.data.error\n                showNotification(msg, 'error')\n            })\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault()\n        const existing = persons.map(person => person.name).indexOf(newName)\n        if ( existing !== -1) {\n            const template = `${newName} is already added to the phonebook, replace the old number with a new one?`\n            if (window.confirm(template)) {\n                const modifiedPerson = { ...persons[existing], number: newNumber }\n                updateExisting(modifiedPerson)\n            }\n        } else {\n            const newPerson = {\n                name: newName,\n                number: newNumber,\n            }\n            addNew(newPerson)\n        }\n\n    }\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>name: <input value={newName} onChange={handleNewPerson} /></div>\n            <div>number: <input value={newNumber} onChange={handleNewNumber} /></div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ filter, setFilter }) => {\n\n    const handleFilter = (event) => {\n        setFilter(event.target.value)\n    }\n\n    return (\n        <div>filter shown with <input value={filter} onChange={handleFilter} /></div>\n    )\n}\n\nexport default Filter","import React from 'react'\nimport personService from '../services/persons'\n\nconst DeleteButton = ({ id, persons, setPersons, showNotification }) => {\n    const name = persons.filter(person => person.id === id)[0].name\n    const handleDelete = () => {\n        if (window.confirm(`Delete ${name}?`)) {\n            personService\n                .remove(id)\n                .then(status => {\n                    if (status === 204) {\n                        setPersons(persons.filter(person => person.id !== id))\n                        const msg = `${name} deleted successfully`\n                        showNotification(msg, 'success')\n                    }\n                })\n        }\n    }\n\n    return (\n        <button onClick={handleDelete}>\n            Delete\n        </button>\n    )\n}\n\n\nexport default DeleteButton","import React from 'react'\nimport DeleteButton from './DeleteButton'\n\nconst Persons = ({ persons, setPersons, filter, showNotification }) => {\n\n    const showPersons = persons.filter(person => new RegExp(filter, 'i').test(person.name))\n\n    const phonebook = showPersons.map((person, i) =>\n        <tr key={person.name}>\n            <td><b>{person.name}</b></td>\n            <td>{person.number}</td>\n            <td><DeleteButton id={person.id} persons={persons} setPersons={setPersons} showNotification={showNotification}/></td>\n        </tr>\n    )\n    if (phonebook.length === 0) {\n        return <div>Nothing to show!</div>\n    }\n    return (\n        <table>\n            <tbody>\n                {phonebook}\n            </tbody>\n        </table>\n    )\n}\n\nexport default Persons","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notification, _setNotification] = useState({ message: null, type: null })\n\n  const showNotification = (message, type) => {\n    _setNotification({ message: message, type: type })\n    setTimeout(() => {\n        _setNotification({ message: null, type: null })\n    }, 5000)\n  }\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(allPersons => {\n        setPersons(allPersons)\n      })\n  }\n  console.log('Rendering', persons.length, 'persons')\n\n  useEffect(hook, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification.message} type={notification.type}/>\n      <Filter filter={filter} setFilter={setFilter} />\n\n      <h2>Add a new</h2>\n      <PersonForm\n      newName={newName}\n      setNewName={setNewName}\n      newNumber={newNumber}\n      setNewNumber={setNewNumber}\n      persons={persons}\n      setPersons={setPersons}\n      showNotification={showNotification}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} setPersons={setPersons} filter={filter} showNotification={showNotification} />\n\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}